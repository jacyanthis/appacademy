{"filter":false,"title":"battleship.rb","tooltip":"/w3/w3d3/battleship.rb","ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":4,"column":10},"end":{"row":4,"column":10},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"89353b62f3afb3b5460375bb3e3fce2b611f1e34","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":76,"column":65},"end":{"row":76,"column":66},"action":"insert","lines":["B"],"id":4316}],[{"start":{"row":84,"column":6},"end":{"row":84,"column":7},"action":"insert","lines":["g"],"id":4317}],[{"start":{"row":84,"column":7},"end":{"row":84,"column":8},"action":"insert","lines":["e"],"id":4318}],[{"start":{"row":84,"column":8},"end":{"row":84,"column":9},"action":"insert","lines":["t"],"id":4319}],[{"start":{"row":84,"column":9},"end":{"row":84,"column":10},"action":"insert","lines":["_"],"id":4320}],[{"start":{"row":85,"column":6},"end":{"row":85,"column":7},"action":"remove","lines":["d"],"id":4321}],[{"start":{"row":85,"column":5},"end":{"row":85,"column":6},"action":"remove","lines":["n"],"id":4322}],[{"start":{"row":85,"column":5},"end":{"row":85,"column":6},"action":"insert","lines":["l"],"id":4323}],[{"start":{"row":85,"column":6},"end":{"row":85,"column":7},"action":"insert","lines":["s"],"id":4324}],[{"start":{"row":85,"column":7},"end":{"row":85,"column":8},"action":"insert","lines":["e"],"id":4325}],[{"start":{"row":87,"column":4},"end":{"row":87,"column":6},"action":"insert","lines":["  "],"id":4326}],[{"start":{"row":86,"column":2},"end":{"row":86,"column":4},"action":"remove","lines":["  "],"id":4327}],[{"start":{"row":86,"column":0},"end":{"row":86,"column":2},"action":"remove","lines":["  "],"id":4328}],[{"start":{"row":85,"column":8},"end":{"row":86,"column":0},"action":"remove","lines":["",""],"id":4329}],[{"start":{"row":84,"column":14},"end":{"row":85,"column":0},"action":"insert","lines":["",""],"id":4330},{"start":{"row":85,"column":0},"end":{"row":85,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":89,"column":78},"end":{"row":90,"column":0},"action":"insert","lines":["",""],"id":4331},{"start":{"row":90,"column":0},"end":{"row":90,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":90,"column":4},"end":{"row":90,"column":5},"action":"insert","lines":["e"],"id":4332}],[{"start":{"row":90,"column":5},"end":{"row":90,"column":6},"action":"insert","lines":["m"],"id":4333}],[{"start":{"row":90,"column":5},"end":{"row":90,"column":6},"action":"remove","lines":["m"],"id":4334}],[{"start":{"row":90,"column":5},"end":{"row":90,"column":6},"action":"insert","lines":["n"],"id":4335}],[{"start":{"row":90,"column":6},"end":{"row":90,"column":7},"action":"insert","lines":["d"],"id":4336},{"start":{"row":90,"column":2},"end":{"row":90,"column":4},"action":"remove","lines":["  "]}],[{"start":{"row":90,"column":2},"end":{"row":90,"column":4},"action":"insert","lines":["  "],"id":4337}],[{"start":{"row":89,"column":4},"end":{"row":89,"column":6},"action":"insert","lines":["  "],"id":4338}],[{"start":{"row":88,"column":2},"end":{"row":88,"column":4},"action":"remove","lines":["  "],"id":4339}],[{"start":{"row":88,"column":0},"end":{"row":88,"column":2},"action":"remove","lines":["  "],"id":4340}],[{"start":{"row":87,"column":30},"end":{"row":88,"column":0},"action":"remove","lines":["",""],"id":4341}],[{"start":{"row":63,"column":31},"end":{"row":63,"column":41},"action":"remove","lines":["_remaining"],"id":4342}],[{"start":{"row":61,"column":11},"end":{"row":62,"column":0},"action":"insert","lines":["",""],"id":4343},{"start":{"row":62,"column":0},"end":{"row":62,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":62,"column":6},"end":{"row":62,"column":7},"action":"insert","lines":["t"],"id":4344}],[{"start":{"row":62,"column":7},"end":{"row":62,"column":8},"action":"insert","lines":["u"],"id":4345}],[{"start":{"row":62,"column":8},"end":{"row":62,"column":9},"action":"insert","lines":["r"],"id":4346}],[{"start":{"row":62,"column":9},"end":{"row":62,"column":10},"action":"insert","lines":["n"],"id":4347}],[{"start":{"row":62,"column":10},"end":{"row":62,"column":11},"action":"insert","lines":["."],"id":4348}],[{"start":{"row":62,"column":11},"end":{"row":62,"column":12},"action":"insert","lines":["b"],"id":4349}],[{"start":{"row":62,"column":12},"end":{"row":62,"column":13},"action":"insert","lines":["o"],"id":4350}],[{"start":{"row":62,"column":13},"end":{"row":62,"column":14},"action":"insert","lines":["a"],"id":4351}],[{"start":{"row":62,"column":14},"end":{"row":62,"column":15},"action":"insert","lines":["r"],"id":4352}],[{"start":{"row":62,"column":15},"end":{"row":62,"column":16},"action":"insert","lines":["d"],"id":4353}],[{"start":{"row":62,"column":16},"end":{"row":62,"column":17},"action":"insert","lines":["."],"id":4354}],[{"start":{"row":62,"column":17},"end":{"row":62,"column":18},"action":"insert","lines":["d"],"id":4355}],[{"start":{"row":62,"column":18},"end":{"row":62,"column":19},"action":"insert","lines":["i"],"id":4356}],[{"start":{"row":62,"column":19},"end":{"row":62,"column":20},"action":"insert","lines":["p"],"id":4357}],[{"start":{"row":62,"column":20},"end":{"row":62,"column":21},"action":"insert","lines":["l"],"id":4358}],[{"start":{"row":62,"column":21},"end":{"row":62,"column":22},"action":"insert","lines":["a"],"id":4359}],[{"start":{"row":62,"column":22},"end":{"row":62,"column":23},"action":"insert","lines":["y"],"id":4360}],[{"start":{"row":62,"column":19},"end":{"row":62,"column":20},"action":"insert","lines":["s"],"id":4361}],[{"start":{"row":62,"column":11},"end":{"row":62,"column":12},"action":"insert","lines":["o"],"id":4362}],[{"start":{"row":62,"column":12},"end":{"row":62,"column":13},"action":"insert","lines":["p"],"id":4363}],[{"start":{"row":62,"column":13},"end":{"row":62,"column":14},"action":"insert","lines":["p"],"id":4364}],[{"start":{"row":62,"column":14},"end":{"row":62,"column":15},"action":"insert","lines":["o"],"id":4365}],[{"start":{"row":62,"column":15},"end":{"row":62,"column":16},"action":"insert","lines":["n"],"id":4366}],[{"start":{"row":62,"column":16},"end":{"row":62,"column":17},"action":"insert","lines":["e"],"id":4367}],[{"start":{"row":62,"column":17},"end":{"row":62,"column":18},"action":"insert","lines":["n"],"id":4368}],[{"start":{"row":62,"column":18},"end":{"row":62,"column":19},"action":"insert","lines":["t"],"id":4369}],[{"start":{"row":62,"column":19},"end":{"row":62,"column":20},"action":"insert","lines":["_"],"id":4370}],[{"start":{"row":62,"column":10},"end":{"row":62,"column":11},"action":"remove","lines":["."],"id":4371}],[{"start":{"row":62,"column":9},"end":{"row":62,"column":10},"action":"remove","lines":["n"],"id":4372}],[{"start":{"row":62,"column":8},"end":{"row":62,"column":9},"action":"remove","lines":["r"],"id":4373}],[{"start":{"row":62,"column":7},"end":{"row":62,"column":8},"action":"remove","lines":["u"],"id":4374}],[{"start":{"row":62,"column":6},"end":{"row":62,"column":7},"action":"remove","lines":["t"],"id":4375}],[{"start":{"row":89,"column":80},"end":{"row":90,"column":0},"action":"insert","lines":["",""],"id":4376},{"start":{"row":90,"column":0},"end":{"row":90,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":90,"column":6},"end":{"row":90,"column":7},"action":"insert","lines":["p"],"id":4377}],[{"start":{"row":90,"column":7},"end":{"row":90,"column":8},"action":"insert","lines":["u"],"id":4378}],[{"start":{"row":90,"column":8},"end":{"row":90,"column":9},"action":"insert","lines":["t"],"id":4379}],[{"start":{"row":90,"column":9},"end":{"row":90,"column":10},"action":"insert","lines":["s"],"id":4380}],[{"start":{"row":90,"column":10},"end":{"row":90,"column":11},"action":"insert","lines":[" "],"id":4381}],[{"start":{"row":90,"column":11},"end":{"row":90,"column":13},"action":"insert","lines":["\"\""],"id":4382}],[{"start":{"row":62,"column":28},"end":{"row":62,"column":30},"action":"insert","lines":["()"],"id":4383}],[{"start":{"row":62,"column":29},"end":{"row":62,"column":30},"action":"insert","lines":["t"],"id":4384}],[{"start":{"row":62,"column":30},"end":{"row":62,"column":31},"action":"insert","lines":["u"],"id":4385}],[{"start":{"row":62,"column":31},"end":{"row":62,"column":32},"action":"insert","lines":["r"],"id":4386}],[{"start":{"row":62,"column":32},"end":{"row":62,"column":33},"action":"insert","lines":["n"],"id":4387}],[{"start":{"row":62,"column":33},"end":{"row":62,"column":34},"action":"insert","lines":["."],"id":4388}],[{"start":{"row":62,"column":34},"end":{"row":62,"column":35},"action":"insert","lines":["n"],"id":4389}],[{"start":{"row":62,"column":35},"end":{"row":62,"column":36},"action":"insert","lines":["a"],"id":4390}],[{"start":{"row":62,"column":36},"end":{"row":62,"column":37},"action":"insert","lines":["m"],"id":4391}],[{"start":{"row":62,"column":37},"end":{"row":62,"column":38},"action":"insert","lines":["e"],"id":4392}],[{"start":{"row":3,"column":0},"end":{"row":110,"column":3},"action":"remove","lines":["class Game","  ","  FIRST = :player_1","  ","  attr_accessor :player_1, :player_2, :turn","  ","  def self.start","    puts \"Welcome to Battleship!\"","    ","    player_names = get_player_names","    name_of_player_1, name_of_player_2 = player_names[0], player_names[1]","    ","    players = create_players(name_of_player_1, name_of_player_2)","    player_1, player_2 = players[0], players[1]","    ","    Game.new(player_1, player_2)","  end","  ","  def self.get_player_names","    puts \"Please enter the name of the first player.\"","    puts \"If first player is a computer, type 'Computer' (no quotes).\"","    name_of_player_1 = gets.chomp","    ","    puts \"Please enter the name of the second player.\"","    puts \"If second player is a computer, type 'Computer' (no quotes).\"","    name_of_player_2 = gets.chomp","    ","    [name_of_player_1, name_of_player_2]","  end","  ","  def self.create_players(name_of_player_1, name_of_player_2)","    if name_of_player_1 == \"Computer\"","      player_1 = ComputerPlayer.new(\"Computer 1\")","    else","      player_1 = HumanPlayer.new(name_of_player_1)","    end","    ","    if name_of_player_2 == \"Computer\"","      player_2 = ComputerPlayer.new(\"Computer 2\")","    else","      player_2 = HumanPlayer.new(name_of_player_2)","    end","    ","    [player_1, player_2]","  end","  ","  def initialize(player_1, player_2)","    @player_1 = player_1","    @player_2 = player_2","    set_turn","    play","  end","  ","  def set_turn","    (FIRST == :player_1) ? @turn = player_1 : @turn = player_2","  end","  ","  def play","    loop do","      opponent_board.display(turn.name)","      get_move","      break if turn.board.ships == 0","      switch_turn","    end","    ","    finished_game","  end","  ","  def get_move","    pos = turn.move","","    if !opponent_board.in_range?(pos)","      if turn.is_a?(HumanPlayer)","        puts \"Sorry, that position is off the board!\"","        puts \"Just to remind you, the board is #{Board.size} x #{Board.size}.\"","      end","      get_move","      ","    elsif !opponent_board.available?(pos)","      if turn.is_a?(HumanPlayer)","        puts \"Sorry, you've already fired there!\"","      end","      get_move","      ","    else","      opponent_board.fire(pos)","      puts \"#{turn.name} moved #{pos}, #{opponent_board.ships} ships remaining.\"","      puts \"\"","    end","  end","  ","  def opponent_board","    if turn == player_1","      player_2.board","    else","      player_1.board","    end","  end","  ","  def switch_turn","    @turn == player_1 ? @turn = player_2 : @turn = player_1","  end","  ","  def finished_game","    puts \"Congratulations, #{turn.name}! You're the winner!\"","  end","","end"],"id":4393}],[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"remove","lines":["",""],"id":4394}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":1},"action":"insert","lines":["r"],"id":4395}],[{"start":{"row":2,"column":1},"end":{"row":2,"column":2},"action":"insert","lines":["e"],"id":4396}],[{"start":{"row":2,"column":2},"end":{"row":2,"column":3},"action":"insert","lines":["q"],"id":4397}],[{"start":{"row":2,"column":3},"end":{"row":2,"column":4},"action":"insert","lines":["u"],"id":4398}],[{"start":{"row":2,"column":4},"end":{"row":2,"column":5},"action":"insert","lines":["i"],"id":4399}],[{"start":{"row":2,"column":5},"end":{"row":2,"column":6},"action":"insert","lines":["r"],"id":4400}],[{"start":{"row":2,"column":6},"end":{"row":2,"column":7},"action":"insert","lines":["e"],"id":4401}],[{"start":{"row":2,"column":7},"end":{"row":2,"column":8},"action":"insert","lines":["_"],"id":4402}],[{"start":{"row":2,"column":8},"end":{"row":2,"column":9},"action":"insert","lines":["r"],"id":4403}],[{"start":{"row":2,"column":9},"end":{"row":2,"column":10},"action":"insert","lines":["e"],"id":4404}],[{"start":{"row":2,"column":10},"end":{"row":2,"column":11},"action":"insert","lines":["l"],"id":4405}],[{"start":{"row":2,"column":11},"end":{"row":2,"column":12},"action":"insert","lines":["a"],"id":4406}],[{"start":{"row":2,"column":12},"end":{"row":2,"column":13},"action":"insert","lines":["t"],"id":4407}],[{"start":{"row":2,"column":13},"end":{"row":2,"column":14},"action":"insert","lines":["i"],"id":4408}],[{"start":{"row":2,"column":14},"end":{"row":2,"column":15},"action":"insert","lines":["v"],"id":4409}],[{"start":{"row":2,"column":15},"end":{"row":2,"column":16},"action":"insert","lines":["e"],"id":4410}],[{"start":{"row":2,"column":16},"end":{"row":2,"column":17},"action":"insert","lines":[" "],"id":4411}],[{"start":{"row":2,"column":17},"end":{"row":2,"column":19},"action":"insert","lines":["''"],"id":4412}],[{"start":{"row":2,"column":18},"end":{"row":2,"column":19},"action":"insert","lines":["g"],"id":4413}],[{"start":{"row":2,"column":19},"end":{"row":2,"column":20},"action":"insert","lines":["a"],"id":4414}],[{"start":{"row":2,"column":20},"end":{"row":2,"column":21},"action":"insert","lines":["m"],"id":4415}],[{"start":{"row":2,"column":21},"end":{"row":2,"column":22},"action":"insert","lines":["e"],"id":4416}]]},"timestamp":1434001027000}